<app-page-banner [title]="title"></app-page-banner>  

<main class="fadeInUp _delay3ms">

    <article>

        <section class="dynamic">
            <div *ngIf="selected" class="image-wrapper">

                <img [src]="selected.image" class="fadeInUp _delay2ms" />

                <div class="date">
                    <h3>{{ selected.datePublished | date : 'd' }}</h3>
                    <p>{{ selected.datePublished | date : 'MMM' }}</p>
                </div>
            </div>

            <h1 *ngIf="selected" class="fadeInUp _delay3ms" [innerHTML]="selected.title"></h1>

            <div *ngIf="selected" class="news-time-wrapper">
                <p>{{ selected.datePublished | date : 'EEEE, MMMM d, yyyy' }}</p>
            </div>            


            <div *ngIf="selected" class="pdf-wrapper" [innerHTML]='selected.content'></div>

        </section>
        
        <aside>         
            
            <section class="tenders">

                <mat-form-field appearance="fill">
                    <mat-label>Search News & Updates</mat-label>
                    <mat-icon matSuffix>search</mat-icon>
                    <input matInput (keyup)="applyFilter($event)" #input>
                </mat-form-field>
                  
                <table mat-table [dataSource]="dataSource">
                  
                    <!-- News Column -->
                    <ng-container matColumnDef="news">
                        <th mat-header-cell *matHeaderCellDef> News </th>
                        <td mat-cell *matCellDef="let row; let i = index">
                            <section [ngClass]="{'selected': selected === row}" class="fadeInRight _delay{{ i + 3 }}ms">
                                <figure>
                                    <img [src]="row.image" alt="">
                                </figure>

                                <p class="title" [innerHTML]="row.title | textShortner : 100"></p>

                                <div class="date">
                                    <h3>{{ row.datePublished | date : 'd' }}</h3>
                                    <p>{{ row.datePublished | date : 'MMM' }}</p>
                                </div>                                
                            </section>
                        </td>
                    </ng-container>
                  
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="onSelectingATender(row)"></tr>
                  
                    <!-- Row shown when there is no matching data. -->
                    <tr class="mat-row" *matNoDataRow>
                      <td class="mat-cell" colspan="1">Sorry, we did not find any news matching the search " {{filterValue}}"</td>
                    </tr>
                </table>   
                
                <mat-paginator 
                    *ngIf="dataSource && dataSource.data.length > 10"
                    [pageSize]="10"
                    [pageSizeOptions]="[5, 10, 20]">
                </mat-paginator>
        
            </section>

        </aside>

    </article>

</main>